{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/css?family=Cairo' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <title>Document</title>
     {% load bootstrap5 %}
     {% bootstrap_css %}
     {% bootstrap_javascript %}
     <style>
      body {
      font-family: 'Cairo';font-size: 22px;
   }

   footer{
      position: fixed;
      bottom: 0;
      width:100%;
      background-color: #6c757d;
      color: white;
      text-align: center;
   }

   a{
      color:inherit ;
      text-decoration: none;
   }

  .article{
      max-width: 900px;
      margin: 200px auto;
      padding: 0.15px ;
  }

  .article h2{
    margin-top: 0;
    color:#333
  }

  .article p{
   color : #555;
  }

</style>
</head>
<body>
    <header>
       <nav class="navbar text-white" style="background-color: rgb(146, 35, 230);">
         <div class="container">
            <p>درس جانغو</p>
            <div>
                <h1>معسكر طويق</h1>
            </div>
            <ul class="list-inline">
               <li class="list-inline-item">
                  <!-- Cart Icon -->

                  <div id="cart-container" onmouseover="loadCartPreview()" style="position: relative;">
                     <i class="bi bi-bag-fill"></i>
                     
                     <!-- Cart Preview will be loaded here -->

                     <div id="cart-preview" style="display: none; position: absolute; top: 100%; right: 0; background: white; border: 1px solid #ccc; z-index: 1000;">
                        <p>Loading...</p>
                     </div>
                  </div>

                  <script>
                  function loadCartPreview() {
                     const preview = document.getElementById("cart-preview");
                     preview.style.display = "block";

                     // Only load once per hover (optional)
                     if (!preview.dataset.loaded) {
                        fetch("{% url 'ajax_cart_preview' %}")
                              .then(response => response.json())
                              .then(data => {
                                 preview.innerHTML = data.html;
                                 preview.dataset.loaded = "true";
                              })
                              .catch(error => {
                                 preview.innerHTML = "<p>Error loading cart.</p>";
                              });
                          }
                       }
                  </script>

               </li>
               <li class="list-inline-item"><a href="{%   url 'blog'   %}">المقالات</a></li>
               <li class="list-inline-item"><a href="{%   url 'aboutus'   %}">حولنا</a></li>
               <li class="list-inline-item"><a href="{% url 'landpage' %}">الرئيسية</a></li>
               
            </ul>
         </div>
       </nav>
    </header>

    <main>
       {% block content %}
                  
       {% endblock %}
    </main>

    <footer>
       <p > copy rigth 2025</p>
    </footer>
</body>
</html>